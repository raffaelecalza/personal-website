<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>raffaele.</title><link rel=stylesheet href=https://unpkg.com/terminal.css@0.7.2/dist/terminal.min.css><link rel=stylesheet type=text/css href=/css/code.min.css><link rel=stylesheet type=text/css href=/css/style.min.css></head><body><div id=content><div class=container><h5 class=back-link><a href=/projects/>~/projects</a></h5><h2 class="terminal-prompt terminal-prompt-spaced">cat readme.md</h2><ul class=small><li><strong>Link:</strong> <a href=https://github.com/raffaelecalza/transmission-telegram-bot target=_blank>https://github.com/raffaelecalza/transmission-telegram-bot</a></li><li><strong>Reading time:</strong> 4 minutes</li><li><strong>open source ❤️</strong></li></ul><hr><div class=single-content><h1>transmission-telegram-bot</h1><p>So, you want to control your torrent status from anywhere in the world, but you don&rsquo;t know how to do this, right? Here is the solution, this is a simple telegram bot that allows you to check the status of your torrents, add, stop, remove, briefly these are all the basic actions that you do with the program or web interface.</p><h4 id=summary>Summary:</h4><ul><li><a href=#available-commands>List of available commands</a></li><li><a href=#how-to-install-it>How to install it</a></li><li><a href=#note>Note</a></li></ul><h2 id=available-commands>Available commands</h2><ul><li><strong>List of all torrents</strong>;</li><li><strong>Torrent status</strong> - Get all details about a torrent;</li><li><strong>Torrent start</strong> - Restart a torrent that is paused;</li><li><strong>Torrent stop</strong> - Stop a torrent;</li><li><strong>Torrent remove</strong> - Remove a torrent;</li><li><strong>Add torrent</strong> - Add a torrent from a <code>.torrent</code> file or from an url;</li></ul><h2 id=how-to-install-it>How to install it</h2><p>Clone the repository with <code>git clone https://github.com/raffaelecalza/transmission-telegram-bot.git</code> or download it as a zip file from <a href=https://github.com/raffaelecalza/transmission-telegram-bot/releases/latest>here</a>.</p><h3 id=1-register-your-bot-name>1) Register your bot name</h3><p>First of all you have to register your bot&rsquo;s name. To do this, begin a new chat to <strong>@BotFather</strong>. Send <code>/newbot</code> command. Then send to him the name of your bot (e.g. My Wonderful Bot). Then send a username for the bot (NOTE: this must end with the word &lsquo;bot&rsquo;), e.g. MyWonderfulBot. After that the Bot Father will send you a message that contains the TOKEN for the bot. Save it because in the fourth step we&rsquo;ll use it.</p><div style=text-align:center><img src="https://github.com/raffaelecalza/transmission-telegram-bot/blob/master/screenshot/1.jpg?raw=true" style=width:32%> <img src="https://github.com/raffaelecalza/transmission-telegram-bot/blob/master/screenshot/2.jpg?raw=true" style=width:32%> <img src="https://github.com/raffaelecalza/transmission-telegram-bot/blob/master/screenshot/3.jpg?raw=true" style=width:32%></div><h3 id=2-set-bot-commands-optional>2) Set bot commands (Optional)</h3><p>This step is optional because the bot has a custom keyboard, but I suggest you to set the commands.
After you have register your bot and take the token you have to send to BotFather the full list of commands. Use the <code>/setcommands</code> and send this string to BotFather:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>torrentlist - Get the list of all torrents
</span></span><span class=line><span class=cl>torrentstatus - Get all details about a torrent
</span></span><span class=line><span class=cl>torrentadd - Add a torrent from url
</span></span><span class=line><span class=cl>torrentstart - Start a paused torrent
</span></span><span class=line><span class=cl>torrentstop - Stop a torrent
</span></span><span class=line><span class=cl>torrentremove - Remove a torrent
</span></span><span class=line><span class=cl>settings - Set your preferences
</span></span><span class=line><span class=cl>help - Get the list of available commands
</span></span></code></pre></div><div style=text-align:center><img src="https://github.com/raffaelecalza/transmission-telegram-bot/blob/master/screenshot/4.jpg?raw=true" style=width:33% alt></div><h3 id=3-install-nodejs-npm-and-pm2>3) Install NodeJS, NPM and PM2</h3><p>Go to the <a href=#4-configure-your-bot>next step</a> if you have already installed NodeJS, NPM and PM2.</p><h4 id=install-nodejs-and-npm>Install NodeJS and NPM</h4><p>For Windows and OSX go to NodeJS site and download the installer (<a href=https://nodejs.org/en/download/)>https://nodejs.org/en/download/)</a>. This also will install NPM.</p><p>For linux users, follow this guide (<a href=https://nodejs.org/en/download/package-manager/)>https://nodejs.org/en/download/package-manager/)</a>.</p><h4 id=install-all-project-dependencies>Install all project dependencies</h4><p>Open up a terminal, go to your bot&rsquo;s folder and then run <code>npm install</code>.</p><h4 id=install-pm2>Install PM2</h4><p>For running your bot forever and as a daemon, you have to install a simple library called PM2 - Process Manager 2. So, Open a console and type <code>sudo npm install -g pm2</code>. If everything goes right try to type this command in the terminal <code>pm2 status</code>, and you should see an empty list of applications.</p><h3 id=4-configure-your-bot>4) Configure your bot</h3><p>Now, open the config.json file with a text editor. Replace the token string with your bot&rsquo;s token. If you already know your chats id insert it in the array.
In the transmission section, insert the ip address of the computer where transmission is installed (localhost if the bot runs in the same machine). Insert your username and password if you&rsquo;ve set it, otherwise leave this fileds empty (don&rsquo;t delete them). The last step is to specify the number of the port (if you have changed it).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;bot&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;token&#34;</span><span class=p>:</span> <span class=s2>&#34;your bot&#39;s token&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;users&#34;</span><span class=p>:</span> <span class=p>[</span><span class=mi>000000</span><span class=p>,</span> <span class=mi>000000</span><span class=p>,</span> <span class=mi>2222222</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;transmission&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;address&#34;</span><span class=p>:</span> <span class=s2>&#34;your ip address&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;credentials&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;username&#34;</span><span class=p>:</span> <span class=s2>&#34;leave this empty if you doesn&#39;t have a username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;password&#34;</span><span class=p>:</span> <span class=s2>&#34;leave this empty if you doesn&#39;t have a password&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;port&#34;</span><span class=p>:</span> <span class=mi>9091</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>If you don&rsquo;t know your chat id, open a terminal and go to your bot repo&rsquo;s folder, open the <code>bot/</code> folder then start your bot (after have installed all packages in the 3 step) with the command <code>node bot.js</code>. Try to send a message to your bot, you&rsquo;ll see in the console your chat id, hit <code>Ctrl + C</code> to stop the bot and insert your chat id in the config file.</p><p><strong>NOTE: you must have inserted at least the bot token in the config file but i recommend you to configure also Transmission before running your bot.</strong></p><img src="https://github.com/raffaelecalza/transmission-telegram-bot/blob/master/screenshot/5.gif?raw=true"><h3 id=5-run-your-bot>5) Run your bot</h3><p>Now you haven&rsquo;t to wait anymore, go to your bot folder and type <code>pm2 start bot.js</code>. Then your bot will start in background.</p><h2 id=note>NOTE</h2><p>If you shutdown or reboot your PC, PM2 will stop your application so you have to re-run your bot every time with the command <code>pm2 start bot.js</code>.</p></div></div></div><footer class=container><hr><p class="small center">&copy; 2022 | Built with ❤️ and a lot of ☕ | <a href=#>[t]op</a></p></footer><script src=https://unpkg.com/micromodal/dist/micromodal.min.js></script>
<script src=/js/others.min.js></script></body></html>